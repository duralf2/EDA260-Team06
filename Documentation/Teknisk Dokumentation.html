<!DOCTYPE html>
<html>
<head>
    <title>Teknisk Dokumentation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <link href="style.css" type="text/css" rel="stylesheet">
</head>
<body>
    <h1>Teknisk Dokumentation</h1>
    <p>
        Här finner ni dokumentation om systemets uppbyggnad.
        Projektet finner ni på <a href="https://github.com/duralf2/EDA260-Team06/">GitHub</a>.
        Status av senaste build kan ni hitta på <a href="https://travis-ci.org/duralf2/EDA260-Team06/">Travis</a>.
    </p>
    <img src="https://travis-ci.org/duralf2/EDA260-Team06.svg?branch=master">


    <hr>

    <h2>Arkitektur</h2>
    <p>
    	Programmets klasser är uppdelade i fem olika paket. Paketet sorter innehåller main-klassen till programmet för sortering av resultat.
    	 Main-klassen för huvudprogrammet (GUI) finns i paketet register.gui.
    </p>
    <h3> sorter </h3>
    <p>
    	Resultatprogrammet läser en fil med starttider, en fil med sluttider, en fil med namn samt startnummer för samtliga deltagare. Från dessa genereras en fil med
    	resultat, för närvarande utan sortering (detta skall åtgärdas vid senare tillfälle).
    	
    	GUI läser in från namnfiler och en fil med sparade tider. Filen med sparade tider uppdateras var gång registrering sker. 
    </p>
    <h3> register.logic </h3>
    <p>
    	Paketet innehåller klassen TimeRegistrationHandler som behandlar olika typer av registreringar, t.ex då startnummer saknas. Klassen Register.java
    	är deprecated. 
    </p>
    <h3>register.model</h3>
    <p>
    	Configuration-klassen ansvarar för de olika konfigurationsparametrarna i config.ini. Javas standardklass java.util.Properties används för att hantera parametrarna.
    	Configfilen måste finnas i en undermapp i programmappen som heter data. Om denna ej existerar så kommer den skapas av programmet men man kan inte läsa en configfil
    	som finns sparad på annat ställe.
    </p>
    <p>
    	Paketet innehåller många klasser för att representera olika typer av deltagare och lopp. En klass för att representera tid ingår också. 
    	Eftersom det kan förekomma olika sorters lopp används olika subklasser av en klass för deltagare som heter AbstractContestant. I denna struktur används
    	template method för utskrift av tider.
    </p>
    <p>
    	Factory method-mönstret används i två klasser. CompetitionFactory skapar ett CompetitionType-objekt beroende på vad raceType-parametern har för värde
    	i config-filen (config.ini). ContestantFactory går igenom den namnfil som anges i config.ini och lägger till namn samt startnummer i databasen.
    	ContestantFactory tar även tävlingstyp (raceType i config.ini) i beakting och skapar objekt av lämplig subklass till AbstractContestant.
    </p>
    <p>
    	Klassen ContestantProperties innehåller övrig information om varje deltagare, t.ex klubb, sponsring etc. Då denna information varierar från tävling till tävling lagras
    	den i en HashMap. Vilken information som skall lagras framgår av headern i namnfilen och vid utskrift så skrivs endast information som fanns i namnheadern ut.
    </p>
    <p>
    Klassen Time används för att representera tider inom programmet. Här finns även metoder för beräkningar angående tider. 
    </p>
    <p>
    	Database-klassen ansvarar för lagring av Contestant-objekt. Objekten lagras internt i en TreeMap som sorterar med avseende på startnummer.
    </p>
    <p>
    	För att jämföra startnummer korrekt används StartNumberComparator-klassen. Detta behövs då startnummer sparas som strängar och vi vill kunna exponera dessa
    	i växande ordning i huvudprogrammet.
    </p>
    <h3> io </h3>
    <p>
    	<!--<b>TODO:</b> refraktorisering pågår här-->
    </p>
    

    <hr>

    <h2>Utvecklingsverktyg</h2>
    <p>
        De flesta automatiserade processer använder sig av ANT. Här dokumenterar vi några av de mest använda.
    </p>

    <h3>Generera javadocs</h3>
    <p>
        Kör <code>ant javadoc</code>, öppna
        <code><a href="javadocs/index.html">Dokumentation/javadocs/index.html</a></code>.
    </p>

    <h3>Bygga jar-fil</h3>
    <p>
        Kör <code>ant jar</code>, GUI-programmet lägger sig då i <code>build/jar/program.jar</code>.
    </p>
</body>
</html>
